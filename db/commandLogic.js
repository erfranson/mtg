
var raresMM17 = [
    {name: "Scalding Tarn", price: 56.99},
    {name: "Verdant Catacombs", price:44.96},
    {name: "Misty Rainforest", price:32.24},
    {name: "Arid Mesa", price:30.00},
    {name: "Marsh Flats", price:29.99},
    {name: "Blood Moon", price:19.51},
    {name: "Damnation", price:18.95},
    {name: "Goblin Guide", price:16.11},
    {name: "Death's Shadow", price:8.99},
    {name: "Cyclonic Rift", price:5.95},
    {name: "Stony Silence", price:5.33},
    {name: "Gifts Ungiven", price:4.97},
    {name: "Abrupt Decay", price:4.28},
    {name: "Grafdigger's Cage", price:3.86},
    {name: "Basilisk Collar", price:3.75},
    {name: "Restoration Angel", price:3.18},
    {name: "Venser, Shaper Savant", price:2.79},
    {name: "Scavenging Ooze", price:2.61},
    {name: "Phantasmal Image", price:2.42},
    {name: "Ranger of Eos", price:1.86},
    {name: "Thragtusk", price:1.50},
    {name: "Blade Splicer", price:1.13},
    {name: "Zur the Enchanter", price:1.02},
    {name: "Terminus", price:0.99},
    {name: "Pyromancer Ascension", price:0.98},
    {name: "Deadeye Navigator", price:0.88},
    {name: "Primal Command", price:0.81},
    {name: "Boros Reckoner", price:0.80},
    {name: "Obzedat, Ghost Council", price:0.66},
    {name: "Falkenrath Aristocrat", price:0.63},
    {name: "Desecration Demon", price:0.50},
    {name: "Wort, the Raidmother", price:0.49},
    {name: "Niv-Mizzet, Dracogenius", price:0.48},
    {name: "Stoic Angel", price:0.46},
    {name: "Summoning Trap", price:0.46},
    {name: "Zealous Conscripts", price:0.45},
    {name: "Cruel Ultimatum", price:0.41},
    {name: "Damping Matrix", price:0.41},
    {name: "Broodmate Dragon", price:0.41},
    {name: "Ulvenwald Tracker", price:0.39},
    {name: "Advent of the Wurm", price:0.39},
    {name: "Simic Sky Swallower", price:0.39},
    {name: "Cackling Counterpart", price:0.39},
    {name: "Call of the Herd", price:0.38},
    {name: "Hellrider", price:0.38},
    {name: "Mizzium Mortars", price:0.38},
    {name: "Evil Twin", price:0.37},
    {name: "Mind Shatter", price:0.36},
    {name: "Extractor Demon", price:0.36},
    {name: "Sever the Bloodline", price:0.35},
    {name: "Fiery Justice", price:0.35},
    {name: "Seance", price:0.35},
    {name: "Aethermage's Touch", price:0.34}
];

var mythicMM17 = [
    {name: "Liliana of the Veil", price: 81.84},
    {name: "Tarmogoyf", price: 71.12},
    {name: "Snapcaster Mage", price: 54.93},
    {name: "Cavern of Souls", price: 50.55},
    {name: "Linvala, Keeper of Silence", price: 11.94},
    {name: "Craterhoof Behemoth", price: 11.51},
    {name: "Voice of Resurgence", price: 11.46},
    {name: "Olivia Voldaren", price: 7.75},
    {name: "Griselbrand", price: 6.75},
    {name: "Temporal Mastery", price: 4.45},
    {name: "Domri Rade", price: 3.19},
    {name: "Sphinx's Revelation", price: 3.17},
    {name: "Bonfire of the Damned", price: 2.97},
    {name: "Past in Flames", price: 2.50},
    {name: "Entreat the Angels", price: 2.23}
];

var AERrares = [
    {name: "Walking Ballista", price: 15.08},
    {name: "Metallic Mimic", price: 13.32},
    {name: "Disallow", price: 6.34},
    {name: "Heroic Intervention", price: 4.74},
    {name: "Baral, Chief of Compliance", price: 4.31},
    {name: "Spire of Industry", price: 3.20},
    {name: "Aethersphere Harvester", price: 1.99},
    {name: "Kari Zev, Skyship Raider", price: 1.50},
    {name: "Rishkar, Peema Renegade", price: 1.48},
    {name: "Glint-Sleeve Siphoner", price: 1.30},
    {name: "Lifecrafter's Bestiary", price: 1.00},
    {name: "Yahenni, Undying Partisan", price: 1.00},
    {name: "Yahenni's Expertise", price: 0.92},
    {name: "Greenbelt Rampager", price: 0.90},
    {name: "Sram's Expertise", price: 0.75},
    {name: "Whir of Invention", price: 0.73},
    {name: "Sram, Senior Edificer", price: 0.71},
    {name: "Baral's Expertise", price: 0.67},
    {name: "Inspiring Statuary", price: 0.67},
    {name: "Rishkar's Expertise", price: 0.62},
    {name: "Kari Zev's Expertise", price: 0.59},
    {name: "Dark Intimations", price: 0.49},
    {name: "Release the Gremlins", price: 0.49},
    {name: "Scrap Trawler", price: 0.49},
    {name: "Oath of Ajani", price: 0.49},
    {name: "Hope of Ghirapur", price: 0.48},
    {name: "Greenwheel Liberator", price: 0.41},
    {name: "Pia's Revolution", price: 0.41},
    {name: "Tezzeret's Betrayal", price: 0.40},
    {name: "Peacewalker Colossus", price: 0.39},
    {name: "Battle at the Bridge", price: 0.38},
    {name: "Aethergeode Miner", price: 0.35},
    {name: "Solemn Recruit", price: 0.34},
    {name: "Midnight Entourage", price: 0.33},
    {name: "Ajani's Aid", price: 0.33},
    {name: "Quicksmith Rebel", price: 0.30},
    {name: "Merchant's Dockhand", price: 0.29},
    {name: "Quicksmith Spy", price: 0.29},
    {name: "Aethertide Whale", price: 0.29},
    {name: "Aid from the Cowl", price: 0.29},
    {name: "Call for Unity", price: 0.29},
    {name: "Freejam Regent", price: 0.29},
    {name: "Consulate Crackdown", price: 0.28},
    {name: "Secret Salvage", price: 0.27}
];

var AERmythic=[
    {name: "Tezzeret the Schemer", price: 9.38},
    {name: "Heart of Kiran", price: 7.75},
    {name: "Paradox Engine", price: 6.99},
    {name: "Ajani, Valiant Protector", price: 4.77},
    {name: "Tezzeret, Master of Metal", price: 4.34},
    {name: "Herald of Anguish", price: 4.10},
    {name: "Mechanized Production", price: 4.00},
    {name: "Ajani Unyielding", price: 3.28},
    {name: "Planar Bridge", price: 2.10},
    {name: "Exquisite Archangel", price: 1.00},
    {name: "Indomitable Creativity", price: 0.88},
    {name: "Gonti's Aether Heart", price: 0.84},
    {name: "Aetherwind Basker", price: 0.79},
    {name: "Lightning Runner", price: 0.73}

];

var AER = {mythics: AERmythic, rares: AERrares};
var MM17 ={mythics: mythicMM17, rares: raresMM17};
var count = 0;
var mythic = 0;
var value = 0;
var average = 0;

function master(set, qty){
    console.log("Look at me I'm doing stuff!");
    console.log(set);
    console.log(qty);
    switch(set){
        case "AER":
            count = 0;
            mythic=0;
            crackEm(qty, 36, AER);
            average = value/(36*qty);
            // console.log("%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%");
            // console.log(count);
            // console.log(mythic);
            // console.log(average);
            // console.log("%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%");
            break;
        case "MM17":
            count = 0;
            mythic=0;
            crackEm(qty, 24, MM17);
            average = value/(24*qty);
            // console.log("%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%");
            // console.log(count);
            // console.log(mythic);
            // console.log(average);
            // console.log("%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%");
            break;
        case "EMA":
            count = 0;
            mythic=0;
            crackEm(qty, 24, set);
            average = value/(24*qty);
            // console.log("%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%");
            // console.log(count);
            // console.log(mythic);
            // console.log(average);
            // console.log("%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%");
            break;
    }
    return {
        count: count,
        mythic: mythic,
        average: average
    };
};

function crackEm(iter, packNum, set){
    value = 0;
    for(var i = 0; i<iter; i++){
        for(var j = 0; j<packNum; j++){
            var dieRoll = Math.floor(Math.random()*9);
            var pulled;
            switch(dieRoll){
                case 1:
                    pulled = set.mythics[Math.floor(Math.random()*set.mythics.length)];
                    // console.log("**************************");
                    // console.log("Mythic!!: " + pulled.name);
                    // console.log("Value: " + pulled.price);
                    // console.log("**************************");
//                        var pulledDiv = $("<div>");
//                        pulledDiv.html+="<h2>Mythic:</h2>";
//                        pulledDiv.html+="<h3>Name: "+pulled.name+"</h3>";
//                        pulledDiv.hmtl+="<h3>Value: "+pulled.price+"</h3>";
                    var html = "<div><h2>Mythic:</h2><h3>Name: "+pulled.name+"</h3><h3>Value: "+pulled.price+"</h3></div>";
                    var pulledDiv = $(html);
                    console.log(pulledDiv);
                    $("#holdMyPulls").append(pulledDiv);

                    value+=pulled.price;
                    count++;
                    mythic++;
                    break;
                default:
                    pulled=set.rares[Math.floor(Math.random()*set.rares.length)];
                    // console.log("==========================");
                    // console.log("Rare: " + pulled.name);
                    // console.log("Value " + pulled.price);
                    // console.log("==========================");
//                        var pulledDiv = $("<div>");
//                        pulledDiv.html+="<h2>Rare:</h2>";
//                        pulledDiv.html+="<h3>Name: "+pulled.name+"</h3>";
//                        pulledDiv.hmtl+="<h3>Value: "+pulled.price+"</h3>";
                    var html = "<div><h2>Rare:</h2><h3>Name: "+pulled.name+"</h3><h3>Value: "+pulled.price+"</h3></div>";
                    var pulledDiv = $(html);
                    console.log(pulledDiv);
                    $("#holdMyPulls").append(pulledDiv);
                    value +=  pulled.price;
                    count++;
                    break;
            }
        }
    }
};

module.exports = {
    master: master,
    crackEm: crackEm
};